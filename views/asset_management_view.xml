<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record model="ir.ui.view" id="pending_asset_storage_form_view">
            <field name="name">equipment_storage.form</field>
            <field name="model" >asset_management.equipment_storage</field>
            <field name="arch" type="xml">
                <form string="equipment_storage Form" create="false" delete = "false">
                     <header>
                        <button name="action_to_confirm" type="object" string="提交" states='demander' class="oe_highlight" />
                        <button name="action_to_cancel" type="object" string="取消申请" states='demander' class="oe_highlight" />
                        <button name="action_to_demander" type="object" string="退回" states="ass_admin,owner,ass_admin_manager" class="oe_highlight" />
                        <button name="action_to_next" type="object" string="同意" states="ass_admin,owner,ass_admin_manager" class="oe_highlight" />
                         <button name="action_to_next" type="object" states="ass_admin_detection" string="检测确认" class="oe_highlight" />
                        <field name="state" widget="statusbar"/>
                    </header>
                    <group>
                        <group>
                            <field name="storage_id" string = "入库单号" readonly="True" />
                        </group>
                        <group>
                           <field name="user_id" string="申请人" readonly="True"/>
                            <field name="approver_id" string="审批人" readonly="True"/>
                        </group>

                    </group>
                    <group>
                        <field name="SN" string = "设备" domain="[('state', 'ilike', '流程中')]" mode="tree"/>
                         <field name="store_exam_ids" string="审批记录">
                             <tree string="审批记录" edit="false" create="false">
                                    <field name="approver_id" string = "审批人" />
                                    <field name="result" string="审批结果" />
                                    <field name = "date" string = "审批时间" />

                                </tree>
                         </field>
                    </group>
                </form>
            </field>
         </record>
        <record model="ir.ui.view" id="processed_asset_storage_form_view">
            <field name="name">equipment_storage.form</field>
            <field name="model" >asset_management.equipment_storage</field>
            <field name="arch" type="xml">
                <form string="equipment_storage Form" create="false" delete = "false" edit = "false">
                     <header>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <group>
                    <group attrs="{'invisible': [('user_id','!=', 'uid')]}">
                     <button name="action_to_cancel" type="object" states="demander,ass_owner,ass_admin,ass_admin_manager,dem_leader,ass_director,ass_admin_detection" string="取消申请" class="oe_highlight"/>
                    </group>
                        <group>
                            <field name="storage_id" string = "入库单号" readonly="True"/>
                        </group>
                        <group>
                           <field name="user_id" string="申请人" readonly="True"/>
                            <field name="approver_id" string="审批人" readonly="True" />
                        </group>

                    </group>
                    <group>
                        <field name="SN" string = "设备" />
                        <field name="store_exam_ids" string="审批记录">
                             <tree string="审批记录" edit="false" create="false">
                                    <field name="approver_id" string = "审批人" />
                                    <field name="result" string="审批结果" />
                                    <field name = "date" string = "审批时间" />

                                </tree>
                         </field>
                    </group>
                </form>
            </field>
         </record>
         <record model="ir.ui.view" id="asset_storage_tree_view">
            <field name="name">equipment_storage.tree</field>
            <field name="model">asset_management.equipment_storage</field>
            <field name="arch" type="xml">
                <tree string = 'equipment_storge' delete = "false" default="sequence,create_date desc">
                    <field name="storage_id" string = "入库单号"/>
                    <field name="user_id" string="申请人"/>
                    <field name="approver_id" string = "审批人"/>
                    <field name="state" string = "状态"/>
                </tree>
             </field>
        </record>

     <record model="ir.ui.view" id="asset_get_create_form_view">
            <field name="name">equipment_get.form</field>
            <field name="model" >asset_management.equipment_get</field>
            <field name="arch" type="xml">
                <form string="equipment_get Form" >
                    <header>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <group>
                    <group attrs="{'invisible': [('user_id','!=', 'uid')]}">
                     <button name="action_to_cancel" type="object" states="demander,ass_owner,ass_admin,ass_admin_manager,dem_leader,ass_director,ass_admin_detection" string="取消申请" class="oe_highlight"/>
                    </group>
                        <group>
                            <field name="get_id" string = "领用单号" readonly="True" />
                            <field name="user_id" string = "申请人" readonly="True"/>
                            <field name="approver_id" string = "审批人" readonly="True"/>
                        </group>
                        <group>
                            <field name="get_date" string = "领用日期"/>
                            <field name="get_purpose" string = "领用目的"/>
                        </group>

                    </group>
                     <group>
                        <field name="SN" string = "设备" mode="tree"/>
                    </group>

                    <footer>
                        <button name="subscribe" type="object"
                                string="保存为草稿" class="oe_highlight"/>
                        or
                        <button special="cancel" string="取消提单"/>
                    </footer>
                </form>
            </field>
        </record>
        <record model="ir.ui.view" id="asset_get_form_view">
            <field name="name">equipment_get.form</field>
            <field name="model" >asset_management.equipment_get</field>
            <field name="arch" type="xml">
                <form string="equipment_get Form" delete = "false" create="false">
                    <header>
                        <button name="action_to_confirm" type="object" string="提交" states='demander' class="oe_highlight" />
                        <button name="action_to_demander" type="object" string="退回" states="ass_admin,ass_owner,dem_leader,ass_director,ass_admin_manager" class="oe_highlight" />
                        <button name="action_to_next" type="object" string="同意" states="ass_admin,ass_owner,dem_leader,ass_director,ass_admin_manager" class="oe_highlight" />
                        <button name="action_to_back" type="object" string="归还" states="done" class="oe_highlight" />
                        <button name="action_to_next" type="object" string="检测确认" states="ass_admin_detection" class="oe_highlight"/>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <group>
                        <group>
                            <field name="get_id" string = "领用单号" readonly="True"/>
                            <field name="user_id" string = "申请人" readonly="True"/>
                            <field name="approver_id" string = "审批人" readonly="True"/>
                        </group>
                        <group>
                            <field name="get_date" string = "领用日期"/>
                            <field name="get_purpose" string = "领用目的"/>
                        </group>

                    </group>
                     <group>
                        <field name="SN" string = "设备" mode="tree"/>
                         <field name="get_exam_ids" string="审批记录">
                             <tree string="审批记录" edit="false" create="false">
                                    <field name="approver_id" string = "审批人" />
                                    <field name="result" string="审批结果" />
                                    <field name = "date" string = "审批时间" />

                                </tree>
                         </field>
                    </group>

                </form>
            </field>
        </record>
        <record model="ir.ui.view" id="asset_get_processed_form_view">
            <field name="name">equipment_get.form</field>
            <field name="model" >asset_management.equipment_get</field>
            <field name="arch" type="xml">
                <form string="equipment_get Form" create="false"  edit="false" delete = "false" >
                    <header>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <group>
                    <group attrs="{'invisible': [('user_id','!=', 'uid')]}">
                     <button name="action_to_cancel" type="object" states="demander,ass_owner,ass_admin,ass_admin_manager,dem_leader,ass_director,ass_admin_detection" string="取消申请" class="oe_highlight"/>
                    </group>
                        <group>
                            <field name="get_id" string = "领用单号"/>
                            <field name="user_id" string = "申请人"/>
                            <field name="approver_id" string = "审批人"/>
                        </group>
                        <group>
                            <field name="get_date" string = "领用日期"/>
                            <field name="get_purpose" string = "领用目的"/>
                        </group>

                    </group>
                     <group>
                        <field name="SN" string = "设备" mode="tree"/>
                         <field name="get_exam_ids" string="审批记录">
                             <tree string="审批记录" edit="false" create="false" delete = "false" >
                                    <field name="approver_id" string = "审批人" />
                                    <field name="result" string="审批结果" />
                                    <field name = "date" string = "审批时间" />
                                </tree>
                         </field>
                    </group>

                </form>
            </field>
        </record>
         <record model="ir.ui.view" id="asset_get_tree_view">
            <field name="name">equipment_get.tree</field>
            <field name="model">asset_management.equipment_get</field>
            <field name="arch" type="xml">
                <tree string = 'equipment_get' create="false" delete = "false"  edit = "false" default="sequence,create_date desc">
                        <field name="get_id" string = "领用单号"/>
                        <field name="user_id" string = "申请人"/>
                        <field name="approver_id" string = "审批人"/>
                        <field name="get_date" string = "领用日期"/>
                        <field name="get_purpose" string = "领用目的"/>
                        <field name="state" string = "状态"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="asset_apply_create_form_view">
            <field name="name">equipment_it_apply.form</field>
            <field name="model" >asset_management.equipment_it_apply</field>
            <field name="arch" type="xml">
                <form string="equipment_apply Form" >
                     <header>
                        <field name="state" widget="statusbar"/>
                     </header>
                    <group>
                    <group attrs="{'invisible': [('user_id','!=', 'uid')]}">
                     <button name="action_to_cancel" type="object" states="demander,ass_owner,ass_admin,ass_admin_manager,dem_leader,ass_director,ass_admin_detection" string="取消申请" class="oe_highlight"/>
                    </group>
                         <group>
                            <field name="apply_id" string = "领用单号" readonly="True"/>
                            <field name="user_id" string = "申请人" readonly="True"/>
                             <field name="use_begin" string = "开始时间"/>
                            <field name="up_date" string = "上架时间"/>
                        </group>
                        <group>
                            <field name="tester" string = "测试人员"/>
                            <field name="application_purpose" string = "申请目的"/>
                            <field name="use_over" string = "结束时间"/>
                            <field name="down_date" string = "下架时间"/>
                        </group>
                    </group>
                     <group>
                        <field name="SN" string = "设备" mode="tree"/>
                    </group>
                    <footer>
                        <button name="subscribe" type="object"
                                string="保存为草稿" class="oe_highlight"/>
                        or
                        <button special="cancel" string="取消提单"/>
                    </footer>
                </form>
            </field>
        </record>
        <record model="ir.ui.view" id="asset_apply_form_view">
            <field name="name">equipment_it_apply.form</field>
            <field name="model" >asset_management.equipment_it_apply</field>
            <field name="arch" type="xml">
                <form string="equipment_apply Form" create="false" delete = "false" >
                     <header>
                         <button name="action_to_confirm" type="object" string="提交" states="demander" class="oe_highlight" />
                        <button name="action_to_demander" type="object" string="拒绝" states="ass_admin,ass_owner,dem_leader,dem_leader_manager,ass_director,ass_admin_manager" class="oe_highlight" />
                         <button name="action_to_next" type="object" string="同意" states="ass_admin,ass_owner,dem_leader,dem_leader_manager,ass_director,ass_admin_manager" class="oe_highlight" />
                         <button name="action_to_back" type="object" string="归还" states="done" class="oe_highlight" />
                         <button name="action_to_next" type="object" states="ass_admin_detection" string="检测确认" class="oe_highlight" />
                        <field name="state" widget="statusbar"/>
                     </header>
                    <group>
                         <group>
                            <field name="apply_id" string = "领用单号" readonly="True"/>
                            <field name="user_id" string = "申请人" readonly="True"/>
                             <field name="use_begin" string = "开始时间"/>
                            <field name="up_date" string = "上架时间"/>
                        </group>
                        <group>
                            <field name="tester" string = "测试人员"/>
                            <field name="application_purpose" string = "申请目的"/>
                            <field name="use_over" string = "结束时间"/>
                            <field name="down_date" string = "下架时间"/>
                        </group>
                    </group>
                     <group>
                        <field name="SN" string = "设备" mode="tree"/>
                         <field name="apply_exam_ids" string="审批记录">
                             <tree string="审批记录" edit="false" create="false">
                                    <field name="approver_id" string = "审批人" />
                                    <field name="result" string="审批结果" />
                                    <field name = "date" string = "审批时间" />

                                </tree>
                         </field>
                    </group>
                </form>
            </field>
        </record>
        <record model="ir.ui.view" id="asset_apply_processed_form_view">
            <field name="name">equipment_it_apply.form</field>
            <field name="model" >asset_management.equipment_it_apply</field>
            <field name="arch" type="xml">
                <form string="equipment_apply Form" create="false" edit ="false" delete = "false">
                     <header>
                        <field name="state" widget="statusbar"/>
                     </header>
                    <group>
                    <group attrs="{'invisible': [('user_id','!=', 'uid')]}">
                     <button name="action_to_cancel" type="object" states="demander,ass_owner,ass_admin,ass_admin_manager,dem_leader,ass_director,ass_admin_detection" string="取消申请" class="oe_highlight"/>
                    </group>
                         <group>
                            <field name="apply_id" string = "领用单号" readonly="True"/>
                            <field name="user_id" string = "申请人" readonly="True"/>
                             <field name="use_begin" string = "开始时间"/>
                            <field name="up_date" string = "上架时间"/>
                        </group>
                        <group>
                            <field name="tester" string = "测试人员"/>
                            <field name="application_purpose" string = "申请目的"/>
                            <field name="use_over" string = "结束时间"/>
                            <field name="down_date" string = "下架时间"/>
                        </group>
                    </group>
                     <group>
                        <field name="SN" string = "设备" mode="tree"/>
                         <field name="apply_exam_ids" string="审批记录">
                             <tree string="审批记录" edit="false" create="false" delete = "false">
                                    <field name="approver_id" string = "审批人" />
                                    <field name="result" string="审批结果" />
                                    <field name = "date" string = "审批时间" />
                                </tree>
                         </field>
                    </group>
                </form>
            </field>
        </record>
         <record model="ir.ui.view" id="asset_apply_tree_view">
            <field name="name">equipment_it_apply.tree</field>
            <field name="model">asset_management.equipment_it_apply</field>
            <field name="arch" type="xml">
                <tree string ="equipment_it_apply" create="false" delete = "false" edit = "false" default="sequence,create_date desc">
                    <field name="apply_id" string = "领用单号"/>
                    <field name="user_id" string = "申请人"/>
                    <field name="tester" string = "测试人员"/>
                    <field name="approver_id" string = "审批人"/>
                    <field name="state" string = "状态"/>
                </tree>
            </field>
        </record>

         <record model="ir.ui.view" id="back_to_store_create_form_view">
            <field name="name">back_to_store_create.form</field>
            <field name="model" >asset_management.back_to_store</field>
            <field name="arch" type="xml">
                <form string="back Form" >
                     <header>
                        <field name="state" widget="statusbar"/>
                     </header>
                    <group>
                    <group attrs="{'invisible': [('user_id','!=', 'uid')]}">
                     <button name="action_to_cancel" type="object" states="demander,ass_owner,ass_admin,ass_admin_manager,dem_leader,ass_director,ass_admin_detection" string="取消申请" class="oe_highlight"/>
                    </group>
                         <group>
                             <!--<field name="back_id" string = "归还单号"/>-->
                             <field name="back_date" string = "归还时间"/>
                        </group>
                        <group>
                             <field name="user_id" string = "申请人" readonly="True"/>
                             <field name="approver_id" string = "当前处理人" readonly="True"/>
                        </group>

                    </group>
                     <group>
                        <field name="SN" string = "设备" mode="tree"/>
                    </group>
                    <footer>
                        <button name="subscribe" type="object"
                                string="保存为草稿" class="oe_highlight"/>
                        or
                        <button special="cancel" string="取消提单"/>
                    </footer>
                </form>
            </field>
        </record>
         <record model="ir.ui.view" id="back_to_store_form_view">
            <field name="name">back_to_store.form</field>
            <field name="model" >asset_management.back_to_store</field>
            <field name="arch" type="xml">
                <form string="back Form" create="false" delete="false" >
                     <header>
                         <button name="action_to_confirm" type="object" string="提交" states="demander" class="oe_highlight" />
                         <button name="action_to_next" type="object" string="同意" states="ass_admin" class="oe_highlight" />
                         <button name="action_to_demander" type="object" string="拒绝" states="ass_admin" class="oe_highlight" />
                        <field name="state" widget="statusbar"/>
                     </header>
                    <group>
                         <group>
                             <field name="back_id" string = "归还单号" readonly="True"/>
                             <field name="back_date" string = "归还时间"/>
                        </group>
                        <group>
                            <field name="user_id" string = "申请人" readonly="True"/>
                             <field name="approver_id" string = "当前处理人" readonly="True"/>
                        </group>

                    </group>
                     <group>
                        <field name="SN" string = "设备" mode="tree"/>
                    </group>

                </form>
            </field>
        </record>
        <record model="ir.ui.view" id="processed_back_to_store_form_view">
            <field name="name">processed_back_to_store.form</field>
            <field name="model" >asset_management.back_to_store</field>
            <field name="arch" type="xml">
                <form string="back Form" create="false" delete = "false" edit="false">
                     <header>
                        <field name="state" widget="statusbar"/>
                     </header>
                    <group>
                    <group attrs="{'invisible': [('user_id','!=', 'uid')]}">
                     <button name="action_to_cancel" type="object" states="demander,ass_owner,ass_admin,ass_admin_manager,dem_leader,ass_director,ass_admin_detection" string="取消申请" class="oe_highlight"/>
                    </group>
                         <group>
                            <!--<field name="back_id" string = "归还单号"/>-->
                             <field name="back_date" string = "归还时间"/>

                        </group>
                        <group>
                            <field name="user_id" string = "申请人" readonly="True"/>
                             <field name="approver_id" string = "当前处理人"/>
                        </group>

                    </group>
                     <group>
                        <field name="SN" string = "设备" mode="tree"/>
                    </group>

                </form>
            </field>
        </record>
         <record model="ir.ui.view" id="back_to_store_tree_view">
            <field name="name">back_to_store.tree</field>
            <field name="model">asset_management.back_to_store</field>
            <field name="arch" type="xml">
                <tree string ="back_to_store" create="false" delete = "false" edit = "false" default="sequence,create_date desc">
                    <field name="back_id" string = "归还单号"/>
                    <field name="user_id" string = "申请人"/>
                    <field name="approver_id" string = "审批人"/>
                    <field name="state" string = "状态"/>
                </tree>
            </field>
        </record>

        <act_window id="launch_session_get_wizard"
                    name="领用"
                    src_model="asset_management.equipment_info"
                    res_model="asset_management.equipment_get"
                    view_mode="form"
                    view_id="asset_get_create_form_view"
                    target="new"
                    key2="client_action_multi"/>
        <act_window id="launch_session_it_apply_wizard"
                    name="IT 环境申请"
                    src_model="asset_management.equipment_info"
                    res_model="asset_management.equipment_it_apply"
                    view_mode="form"
                    view_id="asset_apply_create_form_view"
                    target="new"
                    key2="client_action_multi"/>

        <act_window id="launch_session_back_to_store_wizard"
                    name="设备归还"
                    src_model="asset_management.equipment_info"
                    res_model="asset_management.back_to_store"
                    view_mode="form"
                    view_id="back_to_store_create_form_view"
                    target="new"
                    key2="client_action_multi"/>

        <record model="ir.ui.view" id="use_record_tree_view">
            <field name="name">use_record.tree</field>
            <field name="model">asset_management.use_record</field>
            <field name="arch" type="xml">
                <tree string ="use_record" create="false" delete = "false" edit = "false" default="sequence,create_date desc">
                    <field name="sn" string="序列号"/>
                    <field name="firms" string="设备厂商"/>
                    <field name="device_name" string="设备名字"/>
                    <field name="asset_number" string="资产编号"/>
                    <field name="unit_type" stirng="设备型号"/>
                    <field name="equipment_source" string="设备来源"/>
                    <field name="user_id" string="申请人信息"/>
                    <field name="operate" string="设备操作记录"/>
                    <field name="order_id" string="单号"/>
                    <field name="date" string="时间"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="use_record_form_view">
            <field name="name">use_record.form</field>
            <field name="model">asset_management.use_record</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                        <group>
                            <field name="sn" string="序列号"/>
                            <field name="firms" string="设备厂商"/>
                            <field name="device_name" string="设备名字"/>
                            <field name="asset_number" string="资产编号"/>
                            <field name="date" string="时间"/>
                        </group>
                        <group>
                            <field name="unit_type" stirng="设备型号"/>
                            <field name="equipment_source" string="设备来源"/>
                            <field name="user_id" string="申请人信息"/>
                            <field name="operate" string="设备操作记录"/>
                            <field name="lend_id" string="借用单号" attrs="{'invisible':[('operate','like','借用')]}"/>
                            <field name="get_id" string="领用单号" attrs="{'invisible':[('operate','like','领用')]}"/>
                            <field name="store_id" string="入库单号" attrs="{'invisible':[('operate','like','入库')]}"/>
                            <field name="it_id" string="IT环境单号" attrs="{'invisible':[('operate','like','IT环境')]}"/>
                            <field name="back_id" string="归还单号" attrs="{'invisible':[('operate','like','归还')]}"/>

                        </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
    </data>
</openerp>
